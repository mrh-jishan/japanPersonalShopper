<div class="col-md-7">
  <h2 class="text-center">Update Information</h2>
  <div class="panel panel-default mt-20">
    <div class="panel-heading">User Information</div>
    <div class="panel-body">

      <%= form_with(model: @user, local: true, :url => {:controller => 'users', :action => :edit}) do |form| %>

        <% if @user.errors.any? %>
          <div id="error_explanation">
            <h2><%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:</h2>
            <ul>
              <% @user.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="form-group">
          <%= form.label :name %>
          <%= form.text_field :name, :class => "form-control" %>
        </div>

        <div class="form-group">
          <%= form.label :email %>
          <%= form.text_field :email, :class => "form-control", :readonly => true %>
        </div>


        <div class="form-group">
          <%= form.label :gender %><br/>
          <%= form.label :gender, "Male", :value => "Male" %>
          <%= form.radio_button :gender, "Male", :checked => true %>
          <%= form.label :gender, "Female", :value => "Female" %>
          <%= form.radio_button :gender, "Female" %>
        </div>

        <div class="form-group">
          <%= form.label :contact %>
          <%= form.text_field :contact, :class => "form-control" %>
        </div>

        </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading">Address Details</div>
          <div class="panel-body">
            <%= form.fields_for :address do |a| %>
              <div class="form-group">
                <%= a.label :address %><br/>
                <%= a.text_field :address, :class => "form-control" %>
              </div>

              <div class="form-group">
                <%= a.label :state %><br/>
                <%= a.text_field :state, :class => "form-control" %>
              </div>

              <div class="form-group">
                <%= a.label :postcode %><br/>
                <%= a.number_field :postcode, :class => "form-control" %>
              </div>

              <div class="form-group">
                <%= a.label :country %><br/>
                <%= a.select(:country, options_for_select(COUNTRIES.map {|country| [country[:name], country[:code]]}), {}, {:class => "form-control"}) %>
              </div>
            <% end %>
          </div>
        </div>

        <div class="actions pull-right">
          <%= form.submit 'Update Details', :class => 'btn btn-primary' %>
        </div>
      <% end %>
      <%= link_to 'Back', root_path, :class => 'btn btn-info' %>
      </div>